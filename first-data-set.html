<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="./theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="./theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="./theme/css/font-awesome.min.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
<meta name="author" content="Data Mining in Seattle" />
<meta name="description" content="Data Set: My Neighborhood Map Recently, I have been looking at houses in the Seattle area. It's a crazy market here. Interestingly, some areas are increasing at a much faster rate than others. I want to see if I can look at the open access data on the https ..." />
<meta name="keywords" content="">
<meta property="og:site_name" content="DataScienceUsingRandPython"/>
<meta property="og:title" content="First Data Set"/>
<meta property="og:description" content="Data Set: My Neighborhood Map Recently, I have been looking at houses in the Seattle area. It's a crazy market here. Interestingly, some areas are increasing at a much faster rate than others. I want to see if I can look at the open access data on the https ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="./first-data-set.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-08-26 00:00:00-07:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="./author/data-mining-in-seattle.html">
<meta property="article:section" content="misc"/>
<meta property="og:image" content="">  <title>DataScienceUsingRandPython &ndash; First Data Set</title>
</head>
<body>
  <aside>
    <div>
      <a href=".">
        <img src="./theme/img/profile.png" alt="Data Mining in Seattle" title="Data Mining in Seattle">
      </a>
      <h1><a href=".">Data Mining in Seattle</a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="./pages/about.html#about">About</a></li>
          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-twitter" href="http://twitter.com/zephryin" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="http://github.com/CrystalHumphries" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/crystalhumphries" target="_blank"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href=".">Home</a>
      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="crystal.humphries@gmail.com">Contact</a>
    </nav>

<article>
  <header>
    <h1 id="first-data-set">First Data Set</h1>
    <p>Posted on Wed 26 August 2015 in <a href="./category/misc.html">misc</a></p>
  </header>
  <div>
    <h1>Data Set: My Neighborhood Map</h1>
<p>Recently, I have been looking at houses in the Seattle area. It's a crazy market here. Interestingly, some areas are increasing at a much faster rate than others. I want to see if I can look at the open access data on the https://data.seattle.gov/ to see if I can find any useful but not so obvious trends with the pricier neighborhoods. </p>
<p>The data set I will be using for this is: My Neighborhood Map</p>
<p>Because this is my first entry, I am going for something fairly "easy", that is I want to:
   * extract information from an API
   * convert latitute and longitude into zip codes
   * practice working with pandas
   * doing some regression in python
   * creating a little visualization</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="s">&quot;https://data.seattle.gov/resource/82su-5fxf.json&quot;</span>

<span class="n">repos</span>    <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="c"># this reads the data out in a dictionary</span>
<span class="n">repos</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>




<span class="p">[{</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="s">&#39;1810 NW 65th St&#39;</span><span class="p">,</span>
  <span class="s">&#39;city_feature&#39;</span><span class="p">:</span> <span class="s">&#39;Alternative Schools&#39;</span><span class="p">,</span>
  <span class="s">&#39;common_name&#39;</span><span class="p">:</span> <span class="s">&#39;Salmon Bay&#39;</span><span class="p">,</span>
  <span class="s">&#39;latitude&#39;</span><span class="p">:</span> <span class="s">&#39;47.676298&#39;</span><span class="p">,</span>
  <span class="s">&#39;location&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;latitude&#39;</span><span class="p">:</span> <span class="s">&#39;47.676298&#39;</span><span class="p">,</span>
   <span class="s">&#39;longitude&#39;</span><span class="p">:</span> <span class="s">&#39;-122.38051&#39;</span><span class="p">,</span>
   <span class="s">&#39;needs_recoding&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span>
  <span class="s">&#39;longitude&#39;</span><span class="p">:</span> <span class="s">&#39;-122.38051&#39;</span><span class="p">,</span>
  <span class="s">&#39;website&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;http://www.salmonbayschool.org/&#39;</span><span class="p">}},</span>
 <span class="p">{</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="s">&#39;2500 Franklin Ave E&#39;</span><span class="p">,</span>
  <span class="s">&#39;city_feature&#39;</span><span class="p">:</span> <span class="s">&#39;Alternative Schools&#39;</span><span class="p">,</span>
  <span class="s">&#39;common_name&#39;</span><span class="p">:</span> <span class="s">&#39;Tops K-8&#39;</span><span class="p">,</span>
  <span class="s">&#39;latitude&#39;</span><span class="p">:</span> <span class="s">&#39;47.642286&#39;</span><span class="p">,</span>
  <span class="s">&#39;location&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;latitude&#39;</span><span class="p">:</span> <span class="s">&#39;47.642286&#39;</span><span class="p">,</span>
   <span class="s">&#39;longitude&#39;</span><span class="p">:</span> <span class="s">&#39;-122.324177&#39;</span><span class="p">,</span>
   <span class="s">&#39;needs_recoding&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span>
  <span class="s">&#39;longitude&#39;</span><span class="p">:</span> <span class="s">&#39;-122.324177&#39;</span><span class="p">,</span>
  <span class="s">&#39;website&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="s">&#39;http://www.topsk8.org/&#39;</span><span class="p">}}]</span>
</pre></div>


<p>Looking at the data, I see that it's a bit unweildy so instead I will put it into a dataframe</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">repos</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>


<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>address</th>
      <th>city_feature</th>
      <th>common_name</th>
      <th>latitude</th>
      <th>location</th>
      <th>longitude</th>
      <th>website</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>       1121 33rd Ave</td>
      <td> Alternative Schools</td>
      <td>   Madrona K-8</td>
      <td> 47.612237</td>
      <td> {'longitude': '-122.290868', 'latitude': '47.6...</td>
      <td> -122.290868</td>
      <td> {'url': 'http://www.seattleschools.org/schools...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>     1810 NW 65th St</td>
      <td> Alternative Schools</td>
      <td>    Salmon Bay</td>
      <td> 47.676298</td>
      <td> {'longitude': '-122.38051', 'latitude': '47.67...</td>
      <td>  -122.38051</td>
      <td>        {'url': 'http://www.salmonbayschool.org/'}</td>
    </tr>
    <tr>
      <th>2</th>
      <td> 2500 Franklin Ave E</td>
      <td> Alternative Schools</td>
      <td>      Tops K-8</td>
      <td> 47.642286</td>
      <td> {'longitude': '-122.324177', 'latitude': '47.6...</td>
      <td> -122.324177</td>
      <td>                 {'url': 'http://www.topsk8.org/'}</td>
    </tr>
    <tr>
      <th>3</th>
      <td>  8601 Rainier Ave S</td>
      <td> Alternative Schools</td>
      <td> South Lake Hs</td>
      <td>  47.52526</td>
      <td> {'longitude': '-122.27092', 'latitude': '47.52...</td>
      <td>  -122.27092</td>
      <td> {'url': 'http://www.seattleschools.org/schools...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>     5215 46th Ave S</td>
      <td> Alternative Schools</td>
      <td>      Orca K-8</td>
      <td>  47.55478</td>
      <td> {'longitude': '-122.27596', 'latitude': '47.55...</td>
      <td>  -122.27596</td>
      <td>                 {'url': 'http://www.orcapta.org'}</td>
    </tr>
  </tbody>
</table>
</div>

<p>Now I will convert the longitude and latitude into zip codes using</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">geopy.geocoders</span> <span class="kn">import</span> <span class="n">Nominatim</span>
<span class="n">geolocator</span> <span class="o">=</span> <span class="n">Nominatim</span><span class="p">()</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
<span class="n">query</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">lat</span> <span class="o">+</span>  <span class="s">&quot;,&quot;</span><span class="o">+</span>  <span class="n">lon</span><span class="p">)</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">geolocator</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">location</span>




<span class="n">Location</span><span class="p">(</span><span class="n">Madrona</span> <span class="n">K</span><span class="o">-</span><span class="mi">8</span> <span class="n">School</span><span class="p">,</span> <span class="mi">1121</span><span class="p">,</span> <span class="mi">33</span><span class="n">rd</span> <span class="n">Avenue</span><span class="p">,</span> <span class="n">Madrona</span><span class="p">,</span> <span class="n">Seattle</span><span class="p">,</span> <span class="n">King</span> <span class="n">County</span><span class="p">,</span> <span class="n">Washington</span><span class="p">,</span> <span class="mi">98122</span><span class="p">,</span> <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span><span class="p">,</span> <span class="p">(</span><span class="mf">47.61227395</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.290923054942</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>




<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">sin</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;A simple chirp&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>


<p><img alt="png" src="Article3_files/Article3_7_0.png" /></p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'datamininginseattle.disqus.com';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

    <footer>
      <p>&copy; Data Mining in Seattle 2015</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "First Data Set",
  "headline": "First Data Set",
  "datePublished": "2015-08-26 00:00:00-07:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Data Mining in Seattle",
    "url": "./author/data-mining-in-seattle.html"
  },
  "image": "{{ SITEURL }}/theme/img/profile.png",
  "url": "./first-data-set.html",
  "description": "Data Set: My Neighborhood Map Recently, I have been looking at houses in the Seattle area. It's a crazy market here. Interestingly, some areas are increasing at a much faster rate than others. I want to see if I can look at the open access data on the https ..."
}
</script></body>
</html>